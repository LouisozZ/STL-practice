# 友元

如果只有类的权限控制，会很死板，非类成员则无法访问类私有成员，所以 c++ 提供了另一种形式的访问权限，友元。友元分三种：

1. 友元函数
2. 友元类
3. 友元成员函数

## 友元函数

友元函数拥有与类成员函数相同的访问权限。
友元函数编写步骤：

1. 在类声明的 public 部分声明友元函数原型，并且在原型前面加上 **friend** 关键字
2. 在类定义外部直接书写函数定义，注意，由于友元并非是类成员函数，所以不能加上类限定符，同时，函数定义也不能出现关键字 **friend** ，因为此时并没有在类作用域， friend 关键字是没有意义的。
   
## 友元类

友元类的声明：

```c++
class Louis{
    public :
        friend class Chubby;
        ...
};
```

当一个类被用作另一个类的友元的时候，该友元类中的方法是可以访问原始类的私有和保护成员的。

## 友元成员函数

如果一个类中只有某个（些）函数需要被声明为友元，这种情况下应该声明友元成员函数，而不是声明友元类：

```c++
class Louis{
    public:
        friend void Chubby::hello(Louis &liu);
};
```

在使用友元成员函数的时候需要特别注意各个类的声明顺序。拿上面的例子来说，因为在 Louis 类中声明友元成员函数的时候是指定的某一个类的成员函数，所以当解析到这一句的时候应该是已经知道了 Chubby 类声明的，所以 Chubby 类声明应该在 Louis 之前；确定了这一点之后再来看 Chubby 类中的 Louis 类的友元成员函数，其中有一个形参是 Louis& ，所以在声明这个函数之前应该要知道 Louis 是一个类，并且已经确定了 Chubby 的声明是必须在 Louis 之前的，所以这里需要使用前向声明，在声明 Chubby 类之前显式声明有一个类，叫做 Louis：

```c++
class Louis;
class Chubby{
    ...
};
class Louis{
    ...
};
//if there are any inline function
inline Typename classname::functionname(paralist);
```