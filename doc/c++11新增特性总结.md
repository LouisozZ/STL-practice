# C++11 新增特性总结

## 初始化列表类 initializer_list **(new add)**

首先，c++11 新增了列表初始化语法，在大括号中填入每个元素的初始化值，当对象被创建的时候，其中的元素会依次被初始化为初始化列表中的值。

```c++ {.line-numbers}
auto test = {1,2,3,4,5};                    // #1
// type of test is initializer_list<int>
vector<int> vec1 = test;                    // #2
vector<int> vec2({2,3,4,5,6});              // #3
vector<int> vec3(test);                     // #4
vector<int> vec4{3,4,5,6,7};                // #5
vector<int> vec5 = {4,5,6,7,8};             // #6
```

考虑到 c++11 新增的列表初始化语法，通常，不仅可以使用 () 来调用构造函数，还可以使用 {} 来调用类构造函数。

## 有关于 valarray 类型

### valarray 对象的 begin 和 end **(fix)**

在 c++ 中可以用于表示 “数组” 的类型有：vector,array,valarray。其中 vector 是可变长数组，可以通过 push_back() 等接口动态改变数组长度； array 是定长数组，没有 push_back() 方法；valarray 不是 STL 的内容，定长，没有 push_back()，没有 .begin() .end() 迭代器。所以在 C++11 中为了使得 valarray 适配数组接口，定义了函数 begin 和 end ，可以通过调用这两个函数来得到满足 .begin() .end() 语义区间的地址值。使用示例

```c++
vector<int> arr_vec(5) = {4,2,1,3,5};
sort(arr_vec.begin(),arr_vec.end());

array<int> arr_arr(5) = {4,2,1,3,5};
sort(arr_arr.begin(),arr_arr.end());

valarray<int> arr_valarr(5) = {4,2,1,3,5};
sort(begin(valarray),end(valarray));
```